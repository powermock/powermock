def versionDescription = "PowerMock ${project.version} Final"
if (project.version.toString().contains("beta")){
    versionDescription = "PowerMock ${project.version} Develop"
}

bintray {
    publish = project.ext.bintrayAutoPublish

    pkg {
        repo = project.ext.bintrayRepo

        // optional version attributes
        version {

            name = "powermock-${project.version}"
            desc = versionDescription
            vcsTag = "powermock-${project.version}"

            gpg {
                sign = true
            }

            //Automatically syncs to central repository (https://oss.sonatype.org/)
            mavenCentralSync {
                sync = project.ext.mavenCentralSync
                user = System.env.NEXUS_TOKEN_USER
                password = System.env.NEXUS_TOKEN_PWD
            }
        }
    }
}

